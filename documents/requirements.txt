# 映画館窓口業務エージェント - 要件定義書

## 1. 概要
映画館の窓口業務を行うエージェントを実現するため、MCPツール群を実装する。
業務内容は以下の流れで構成される：
- 映画・上映時間の確定
- 空席情報の提示と座席選択
- 予約確定

## 2. 機能要件

### 2.1 映画情報管理機能
**機能名**: get_movie_list
**説明**: 現在上映中の映画一覧を取得する
**要件**:
- 映画名、上映時間、ジャンル、評価、概要等の基本情報を管理
- 日付指定による絞り込み機能
- 映画の推薦機能（評価・ジャンル・人気度に基づく）

### 2.2 上映スケジュール管理機能
**機能名**: get_show_schedule
**説明**: 指定した映画の上映スケジュールを取得する
**要件**:
- 映画名および日付を指定して上映時間一覧を取得
- 各上映時間枠の上映館ID、空席有無も併せて取得

### 2.3 座席空き状況取得機能
**機能名**: get_seat_availability
**説明**: 指定した上映回の座席空き状況を取得する
**要件**:
- 上映スケジュールIDを指定して当該上映館IDの座席状況を取得
- 空いている座席の一覧返却

### 2.4 座席予約機能
**機能名**: reserve_seats
**説明**: 指定した座席の予約を実行する
**要件**:
- 映画名、日付、上映時間、座席番号を指定して予約確定
- 複数座席の同時予約対応
- 予約確定後、予約IDを返却

### 2.5 予約確認機能
**機能名**: get_reservation_details
**説明**: 確定した予約の詳細情報を取得する
**要件**:
- 予約ID、映画名、日時、座席番号等の予約詳細表示
- 予約IDによる検索機能

## 3. データ構造要件

### 3.1 映画データ
- movie_id: 映画ID（ユニーク）
- title: 映画名
- genre: ジャンル
- duration: 上映時間（分）
- rating: 評価（1-5）
- description: 概要
- release_date: 公開日

### 3.2 上映スケジュールデータ
- schedule_id: スケジュールID（ユニーク）
- movie_id: 映画ID
- date: 上映日
- start_time: 開始時間
- end_time: 終了時間
- theater_id: 上映館ID

### 3.3 上映回座席状況データ
- schedule_id: スケジュールID（上映スケジュールデータと関連）
- available_seats: 空席リスト（列ごとに管理）
  - row: 行（A, B, C...）
  - available_numbers: 空席番号のリスト（[1, 3, 5]等）
- occupied_seats: 予約済み座席リスト（列ごとに管理）
  - row: 行（A, B, C...）
  - occupied_numbers: 予約済み番号のリスト（[2, 4, 6]等）

### 3.4 予約データ
- reservation_id: 予約ID（ユニーク）
- schedule_id: スケジュールID
- seat_ids: 予約座席IDリスト（"A1", "A2", "B1"等の形式）
- reservation_time: 予約確定時刻
- status: 予約状況（確定、キャンセル等）
